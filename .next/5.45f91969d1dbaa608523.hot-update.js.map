{"version":3,"file":"5.45f91969d1dbaa608523.hot-update.js","sources":["webpack:///pages/admin-users.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Input from '@material-ui/core/Input';\nimport TextField from '@material-ui/core/TextField';\nimport 'react-select/dist/react-select.css';\nimport Dashboard from '../components/admin/Dashboard';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from 'next/link';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n\n\n\nconst initialState = {\n  submitting: false,\n  submitted: false,\n  open: false,\n  vertical: null,\n  horizontal: null,\n  currentUser: {},\n  selectedUserId: \"\",\n  users: [],\n  openDeleteDialog: false\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    height: 250,\n    width: '95%',\n    margin: '30px auto'\n  },\n\n  button: {\n    margin: theme.spacing.unit,\n  },\n\n\n  group: {\n    margin: `${theme.spacing.unit}px 0`,\n  }\n});\n\n\nclass AdminProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...initialState\n    }\n    //this.submitForm = this.submitForm.bind(this);\n    this.openDeleteDialogHandler = this.openDeleteDialogHandler.bind(this);\n    this.handleDeleteUser = this.handleDeleteUser.bind(this);\n    this.handleDontDelete = this.handleDontDelete.bind(this);\n  }\n\n  getUsers() {\n    fetch(`/api/get-teams`)\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({ users: data })\n      }\n      )\n  }\n\n\n\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  getUserLocally() {\n    return JSON.parse(localStorage.getItem('user'))\n  }\n\n  setUserLocally(user) {\n    localStorage.setItem('user', JSON.stringify(user))\n    return user\n  }\n\n  getUserInfo(userInfo) {\n    this.setState({ user: userInfo })\n  }\n\n  openDeleteDialogHandler(id) {\n    this.setState({ openDeleteDialog: true, selectedUserId: id });\n  };\n\n  handleDeleteUser(event) {\n    this.setState({ openDeleteDialog: false, submitted: true });\n    event.preventDefault();\n    fetch(`/api/team/${this.state.selectedUserId}`, {\n      method: 'delete',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      }\n    }).then((response) => {\n      response.json().then((res) => {\n        if (res.status === 201 && res.success === true) {\n          this.setState({ submitting: false, vertical: 'top', horizontal: 'center', open: true, openDeleteDialog: true });\n        } else {\n          this.setState({ submitting: false, vertical: 'top', horizontal: 'center', open: true });\n        }\n      })\n    })\n\n  }\n\n  handleDontDelete() {\n    this.setState({ openDeleteDialog: false });\n  }\n\n\n\n\n\n\n\n\n  render() {\n    const { classes } = this.props;\n    const { input, open, vertical, horizontal, valueSkillBind } = this.state;\n\n\n    return (\n      <Dashboard>\n        <div className={classes.root}>\n          {/* <Snackbar\n            anchorOrigin={{ vertical, horizontal }}\n            open={open}\n            onClose={this.handleCloseSnackbar}\n            autoHideDuration={6000}\n            ContentProps={{\n              'aria-describedby': 'message-id',\n            }}\n            action={[\n              <Icon onClick={this.handleCloseSnackbar}>close</Icon>\n            ]}\n            message={<span id=\"message-id\">User has been deleted</span>}\n          /> */}\n          <Grid container spacing={24} alignItems=\"center\">\n            <Grid item xs={8} sm={12}>\n              <Paper className={classes.root}>\n                <Table className={classes.table}>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>suffle</TableCell>\n                      <TableCell>S/N</TableCell>\n                      <TableCell>First Name</TableCell>\n                      <TableCell>Last Name</TableCell>\n                      <TableCell>Email</TableCell>\n                      <TableCell>Phone Number</TableCell>\n                      <TableCell>Position</TableCell>\n                      <TableCell>Action</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {this.state.users.map((n, i) => {\n                      return (\n                        <TableRow key={n._id}>\n                          <TableCell >\n                            <IconButton className={classes.button} aria-label=\"delete\">\n                              <Icon>drag_handle</Icon>\n                            </IconButton>\n                          </TableCell>\n                          <TableCell >{i + 1}</TableCell>\n                          <TableCell >{n.firstName}</TableCell>\n                          <TableCell >{n.lastName}</TableCell>\n                          <TableCell >{n.email}</TableCell>\n                          <TableCell >{n.phoneNumber}</TableCell>\n                          <TableCell >{n.position}</TableCell>\n                          <TableCell>\n                            <IconButton color=\"secondary\" onClick={(e) => this.openDeleteDialogHandler(n._id)} className={classes.button} aria-label=\"delete\">\n                              <Icon>delete</Icon>\n                            </IconButton>\n                            <Link as={`/dashboard/profile/${n._id}`} href={`/admin-profile?_id=${n._id}`}>\n                              <IconButton className={classes.button} aria-label=\"delete\">\n                                <Icon>create</Icon>\n                              </IconButton>\n                            </Link>\n                          </TableCell>\n                        </TableRow>\n                      );\n                    })}\n                  </TableBody>\n                </Table>\n              </Paper>\n            </Grid>\n          </Grid>\n\n          <Dialog\n            open={this.state.openDeleteDialog}\n            onClose={this.handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">{\"Are you sure?\"}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                Are you sure you want to permanetly delete this user?\n            </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={(e) => this.handleDontDelete(e)} color=\"primary\">\n                No\n            </Button>\n              <Button onClick={(e) => this.handleDeleteUser(e)} color=\"secondary\" autoFocus>\n                Yes\n            </Button>\n            </DialogActions>\n          </Dialog>\n        </div>\n      </Dashboard>\n    );\n  }\n}\n\nAdminProfile.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(AdminProfile);\n\n\n// WEBPACK FOOTER //\n// pages/admin-users.js"],"mappings":"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","sourceRoot":""}